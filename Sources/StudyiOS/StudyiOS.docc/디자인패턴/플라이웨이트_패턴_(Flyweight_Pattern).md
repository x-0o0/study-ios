# 플라이웨이트 패턴 (Flyweight Pattern)

인스턴스 개수를 최소화하여 메모리를 말그대로 가볍게 만들어주는 것을 목적으로 하는 패턴

## 개요

메모리를 말그대로 가볍게 만들어주는 것을 목적으로 하는 패턴으로, 인스턴스 개수를 최소화하여 메모리 사용을 절약할 수 있다.

보통 자주 쓰는 `ColorSet` (나만 자주 쓰나?) 이 여기에 해당한다.

`static`으로 뭔가를 선언하면 보통 경험상 둘 중 하나 였던거 같다. 첫번째가 **싱글톤**, 두번째가 **저장용도**. 두번째가 Flyweight 패턴이다.

앱이나 웹 서비스들을 보면 여러가지 다양한 색상을 쓰기 보다는 브랜드 컬러에 맞게 서비스용 컬러 세트를 갖고 세트에 있는 색상들을 반복적으로 여러곳에서 사용한다.

이때, 매번 같은 rgb 값을 갖는 색상 인스턴스를 계속 생성하는 것이 아니라 하나의 클래스에 `static` 하게 선언해서 해당 색상을 쓰는 컴포넌트들이 하나의 색상 인스턴스만을 바라보도록 하는 것이다.

그러면 초록색을 사용하는 컴포넌트가 5개라고 했을 때, `Color(red: 0, blue: 0, green: 0)` 을 매번 생성에서 할당하면 총 5개의 인스턴스를 메모리에 저장하지만,

```swift
class ColorSet {
    public static green = UIColor(red: 0, blue: 0, green: 0)
}
```
이렇게 Flyweight pattern을 써서, `ColorSet.green` 을 할당해주면 결과적으로 1개의 인스턴스만 메모리에 저장하게 된다.


보통 `extension` + `static` 을 만들어서 값을 생성하는 게 있을 텐데, 나도 모르게 Flyweight 패턴을 쓰고 있는 경우가 많을 것이다.
