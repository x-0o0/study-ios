# ìŠ¤ìœ„í”„íŠ¸ íŒ¨í‚¤ì§€ë¥¼ ì½”ì½”ì•„íŒŸì— ë°°í¬í•˜ê¸°

ìŠ¤ìœ„í”„íŠ¸ íŒ¨í‚¤ì§€ë¥¼ ì½”ì½”ì•„íŒŸ(CocoaPods) ì˜ì¡´ì„± ê´€ë¦¬ë„êµ¬(Dependency Manager) ì— ë°°í¬í•˜ëŠ” ê³¼ì •

## 1. ë°°ê²½ ë° ëª©ì 

Xcode ì—ì„œ ê°œë°œí•œ Framework ë¥¼ ì½”ì½”ì•„íŒŸì— ë°°í¬í•˜ê³  XCFramework ë¥¼ ì¶”ì¶œí•´ì„œ ìŠ¤ìœ„í”„íŠ¸ íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €ì—ë„ ë°°í¬ëŠ” ìˆ˜ì°¨ë¡€ í•´ë³´ì•˜ì§€ë§Œ
ìŠ¤ìœ„í”„íŠ¸ íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €ì— ë°°í¬í•˜ë˜ ìŠ¤ìœ„í”„íŠ¸ íŒ¨í‚¤ì§€ë¥¼ ì½”ì½”ì•„íŒŸì— ë°°í¬í•˜ëŠ” ê²ƒì€ ê²½í—˜ì´ ì—†ì—ˆë‹¤.

CocoaPodsì˜ ë§¤ë‹ˆí˜ìŠ¤íŠ¸(Manifest) ì„¤ì •ì„ ë‹´ë‹¹í•˜ëŠ” Podspec ë¥¼ ê°€ë³ê²Œ ìˆ˜ì •í•˜ëŠ” ê²ƒìœ¼ë¡œ ìŠ¤ìœ„í”„íŠ¸ íŒ¨í‚¤ì§€ë¥¼ ì½”ì½”ì•„íŒŸì— ë°°í¬í•  ìˆ˜ ìˆë‹¤.

ì´ ë¬¸ì„œì—ì„œëŠ” `SevenSegmentUI` ë¼ëŠ” ìŠ¤ìœ„í”„íŠ¸ íŒ¨í‚¤ì§€ì— `.podspec` íŒŒì¼ì„ ìƒì„±í•˜ê³  ì½”ì½”ì•„íŒŸ íŠ¸ë í¬(Trunk) ì— í‘¸ì‹œí•˜ì—¬ ë°°í¬í•˜ëŠ” ê³¼ì •ì„ ë‹¤ë¤„ë³´ê² ìŠµë‹ˆë‹¤.

## 2. ì½”ì½”ì•„íŒŸ ë°°í¬ ê³¼ì •

### 2.1. Podspec ìƒì„± ë° ìˆ˜ì •

> **ì¤‘ìš”**
>
> `pod` ì»¤ë§¨ë“œë¼ì¸ ë„êµ¬ ì„¤ì¹˜ê°€ ì‚¬ì „ì— í•„ìš”í•©ë‹ˆë‹¤.

```bash
pod spec create SevenSegmentUI # íŒ¨í‚¤ì§€ ì´ë¦„
```

`spec create` ëŠ” `.podspec` íŒŒì¼ì„ ìƒì„±í•˜ëŠ” ëª…ë ¹ì–´ ì…ë‹ˆë‹¤.<sup>[1](#footnote_1)</sup>

ëª…ë ¹ì–´ ì‹¤í–‰ í›„ `package-seven-segments` í´ë”ì˜ êµ¬ì„±ì€ ë‹¤ìŒê³¼ ê°™ê²Œ ë©ë‹ˆë‹¤.

```
package-seven-segments
|--- Package.swift
|--- SevenSegmentUI.podspec
|--- Sources
     |--- SevenSegmentUI
```

`.podspec` ì„ ì—´ê³  ì•„ë˜ì™€ ê°™ì´ íŒŸì˜ ìŠ¤í™ ì •ë³´ë¥¼ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.

```podspec
Pod::Spec.new do |spec|
  spec.name         = "SevenSegmentUI"
  spec.version      = "0.0.1"
  spec.summary      = "í•œ ì¤„ ì„¤ëª…"

  spec.description  = <<-DESC
    ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ëŒ€í•œ ìì„¸í•œ ì†Œê°œ ë¬¸êµ¬ê°€ ë“¤ì–´ê°‘ë‹ˆë‹¤.
                   DESC

  spec.license      = { :type => "MIT", :file => "LICENSE" }

  spec.author             = { "Jaesung Lee" => "ì´ë©”ì¼ì£¼ì†Œ" }

  spec.ios.deployment_target = "16.0"
  spec.swift_version = "5.9"

  spec.source       = {
    :git => "https://github.com/jaesung-0o0/package-seven-segments.git",
    :tag => "#{spec.version}"
  }

  spec.source_files  = "Sources/SevenSegmentUI/**/*"

end
```
ìŠ¤í™ì— ë“¤ì–´ê°€ì•¼ í•˜ëŠ” ì •ë³´ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. ì—¬ê¸°ì„œ ê°€ì¥ ì¤‘ìš”í•œ ê²ƒì€ `spec.source_files` ì…ë‹ˆë‹¤. Sources í•˜ìœ„ í´ë” ì¤‘ íŒŸìœ¼ë¡œ ì œê³µí•˜ê³ ì í•˜ëŠ” ì†ŒìŠ¤ì˜ í´ë”ë¥¼ ëª…ì‹œí•´ì¤˜ì•¼ í•©ë‹ˆë‹¤.

| í•­ëª© | ì„¤ëª… | ì˜ˆì‹œ |
| --- | --- | --- |
| `name` | pod ì´ë¦„ | `spec.name = "MyPackage"` |
| `version` | ë²„ì „. ì•„ë˜ì˜ `source`ì—ì„œ íƒœê·¸(`:tag`)ë¥¼ ë²„ì „ìœ¼ë¡œ ì‚¬ìš©í•˜ê²Œ ì„¸íŒ…í•©ë‹ˆë‹¤. | `spec.version = "1.0.0"` |
| `summary` | í•œ ì¤„ ìš”ì•½ | `spec.summary = "Swift Package that provides OOO features"` |
| `description` | ìì„¸í•œ ì†Œê°œ ë¬¸êµ¬ | ìœ„ì˜ ì½”ë“œ ë¸”ëŸ­ ì°¸ê³  |
| `license` | ë¼ì´ì„¼ìŠ¤. ì˜¤í”ˆì†ŒìŠ¤ ë¼ì´ì„¼ìŠ¤ë¼ë©´ `:type` ê³¼ `:file` ì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤. | `spec.license = { :type => "MIT", :file => "LICENSE" }` |
| `author` | ì‘ì„±ì. ì½”ì½”ì•„íŒŸ íŠ¸ë í¬ì— ë“±ë¡(`pod trunk register`)ëœ ì´ë©”ì¼ê³¼ ì´ë¦„ì´ì–´ì•¼ í•©ë‹ˆë‹¤. | `spec.author = { "Jaesung Lee" => "ì´ë©”ì¼ì£¼ì†Œ" }` |
| `ios.deployment_target` | ì§€ì›í•˜ëŠ í”Œë«í¼ ë²„ì „ | `spec.ios.deployment_target = "16.0"` |
| `swift_version` | ì§€ì›í•˜ëŠ” ìŠ¤ìœ„í”„íŠ¸ ë²„ì „ | `spec.swift_version = "5.9"` |
| `source` | ì†ŒìŠ¤ì½”ë“œ ì €ì¥ ìœ„ì¹˜ì™€ ë²„ì „. `:git` ì— ê¹ƒ ì €ì¥ì†Œ URL ì£¼ì†Œë¥¼ ê¸°ì¬í•˜ê³ , `:tag` ëŠ” íƒœê·¸ë¥¼ ë²„ì „ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ `"#{spec.version}"` ì„ ê°’ìœ¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤. | `spec.source = { :git => "https://github.com/ì‚¬ìš©ìì´ë¦„/ë ˆí¬ì§€í† ë¦¬ì´ë¦„.git", :tag => "#{spec.version}"` |
| `source_files` | ì†ŒìŠ¤ì½”ë“œê°€ ìœ„ì¹˜í•œ Sources ì˜ í•˜ìœ„í´ë”ë¥¼ ëª…ì‹œí•©ë‹ˆë‹¤. Package.swift ì—ì„œ íƒ€ê²Ÿì— ì†ŒìŠ¤íŒŒì¼ ê²½ë¡œë¥¼ ëª…ì‹œí•˜ëŠ” ê²ƒê³¼ ë™ì¼í•©ë‹ˆë‹¤. | `spec.source_files = "Sources/MyPackage/**/*"`<sup>[2](#footnote_2)</sup> |

`.podspec` ìˆ˜ì •ì´ ì™„ë£Œë˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±ëœ ë‚´ìš©ì´ ìœ íš¨í•œ ì§€ ê²€ì¦í•©ë‹ˆë‹¤.

```bash
pod spec lint SevenSegmentUI.podspec
```

### 2.2. ì½”ì½”ì•„íŒŸì— ë°°í¬

ìˆ˜ì •ëœ `.podspec` ì»¤ë°‹í•˜ê³  ì›ê²© ì €ì¥ì†Œì— í‘¸ì‹œí•©ë‹ˆë‹¤. 

```bash
git add *
git commit -m "[ë²„ì „] 1.0.0"
git push origin main
```

ì»¤ë°‹ì— ë²„ì „ì„ ëª…ì‹œí•œ íƒœê·¸ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤. ì•„ê¹Œ `.podspec` ì—ì„œ `source_files` ì˜ `:tag` ì— íƒœê·¸ ë‚´ìš©ì„ ë²„ì „ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤ê³  ëª…ì‹œí–ˆê¸° ë•Œë¬¸ì—, trunk ì— ë°°í¬ ì „ ë°˜ë“œì‹œ ì›ê²©ì €ì¥ì†Œì— íƒœê·¸ê°€ ë¨¼ì € ì¶”ê°€ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.

```bash
git tag "1.0.0"
```

íƒœê·¸ê¹Œì§€ ì¶”ê°€ ë˜ì—ˆë‹¤ë©´ íŠ¸ë í¬ì— í‘¸ì‹œí•©ë‹ˆë‹¤.

```bash
pod trunk push
```

> **NOTE**
>
> `git.author` ì— ê¸°ì¬í•œ ì‘ì„±ì ì •ë³´ê°€ íŠ¸ë í¬ì— ë“±ë¡ë˜ì–´ìˆì§€ ì•Šë‹¤ë©´ íŠ¸ë í¬ì— í‘¸ì‹œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. í‘¸ì‹œ ì „ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì—¬ ì´ë©”ì¼ê³¼ ì´ë¦„ì„ íŠ¸ë í¬ì— ë“±ë¡í•´ì£¼ë„ë¡ í•©ë‹ˆë‹¤.
>
> ```bash
> pod trunk register ì´ë©”ì¼ì£¼ì†Œ ì´ë¦„ # ë„ì–´ì“°ê¸°ëŠ” ë°‘ì¤„ë¡œ ëŒ€ì²´. ì˜ˆ: Jaesung_Lee
> ```
>
> ì´ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë©´ ë“±ë¡ì„ í•˜ë ¤ëŠ” ì´ë©”ì¼ ì£¼ì†Œë¡œ ì¸ì¦ë©”ì¼ì´ ë°œì†¡ ë©ë‹ˆë‹¤. ì¸ì¦ ë©”ì¼ì— ìˆëŠ” ë§í¬ë¥¼ ëˆ„ë¥´ë©´ ë“±ë¡ì´ ì™„ë£Œë©ë‹ˆë‹¤.

í‘¸ì‹œê°€ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ë©”ì„¸ì§€ê°€ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.

```bash
--------------------------------------------------------------------------------
 ğŸ‰  Congrats

 ğŸš€  SevenSegmentUI (0.0.1) successfully published
 ğŸ“…  November 3rd, 04:37
 ğŸŒ  https://cocoapods.org/pods/SevenSegmentUI
 ğŸ‘  Tell your friends!
--------------------------------------------------------------------------------
```

## 3. ê²°ë¡ 

`.podspec` ì˜ `source_files` ì— `Sources/ì†ŒìŠ¤í´ë”ì´ë¦„/**/*` ë¥¼ ê¸°ì¬í•˜ì—¬ ìŠ¤ìœ„í”„íŠ¸ íŒ¨í‚¤ì§€ë¥¼ ì½”ì½”ì•„íŒŸì— ë°°í¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


## 4. ì°¸ê³  ë¬¸í—Œ

<a name="footnote_1">1</a>: [https://guides.cocoapods.org/making/specs-and-specs-repo](https://guides.cocoapods.org/making/specs-and-specs-repo.html)

<a name="footnote_2">2</a>: `**` ëŠ” ëª¨ë“  í•˜ìœ„í´ë”ë¥¼ ì˜ë¯¸, `*` ëª¨ë“  íŒŒì¼ì„ ì˜ë¯¸
